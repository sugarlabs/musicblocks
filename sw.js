var CACHE_NAME = 'music-blocks-site-precache';
var urlsToCache = [
    'index.html',
    'loading-animation.gif',
    'manifest.json',
    'favicon.ico',

    'header-icons/down.svg',
    'header-icons/restore-trash-button.svg',
    'header-icons/edit.svg',
    'header-icons/rotate-left.svg',
    'header-icons/empty-trash-button.svg',
    'header-icons/rotate-right.svg',
    'header-icons/erase-button.svg',
    'header-icons/run-button.svg',
    'header-icons/export-button.svg',
    'header-icons/samples-button.svg',
    'header-icons/export-chunk.svg',
    'header-icons/save-blocks-button.svg',
    'header-icons/export-drums.svg',
    'header-icons/save-button.svg',
    'header-icons/fast-button.svg',
    'header-icons/save-to-file-button.svg',
    'header-icons/fast-mouse-button.svg',
    'header-icons/scroll-lock-button.svg',
    'header-icons/folder-open.svg',
    'header-icons/scroll-unlock-button.svg',
    'header-icons/go-home-button.svg',
    'header-icons/share.svg',
    'header-icons/go-home-faded-button.svg',
    'header-icons/show.svg',
    'header-icons/grab.svg',
    'header-icons/slow-button.svg',
    'header-icons/help-button.svg',
    'header-icons/slow-music-button.svg',
    'header-icons/hide-blocks-button.svg',
    'header-icons/smaller-button.svg',
    'header-icons/hide.svg',
    'header-icons/sort.svg',
    'header-icons/invert.svg',
    'header-icons/stats-button.svg',
    'header-icons/lilypond-button.svg',
    'header-icons/step-button.svg',
    'header-icons/menu-button.svg',
    'header-icons/step-music-button.svg',
    'header-icons/myblocks-button.svg',
    'header-icons/stop-turtle-button.svg',
    'header-icons/next-button.svg',
    'header-icons/turtle-button.svg',
    'header-icons/open-button.svg',
    'header-icons/up.svg',
    'header-icons/open-toolbar-button.svg',
    'header-icons/utility-button.svg',

    'images/bubbles.svg',
    'images/dupstack.svg',
    'images/mouse2.svg',
    'images/ridebell.svg',
    'images/camera.svg',
    'images/emptybox.svg',
    'images/mouse.svg',
    'images/slap.svg',
    'images/Cartesian.svg',
    'images/emptyheap.svg',
    'images/negroot.svg',
    'images/snaredrum.svg',
    'images/cat.svg',
    'images/emptystart.svg',
    'images/nocode.svg',
    'images/splash.svg',
    'images/chine.svg',
    'images/expand.svg',
    'images/noconnection.svg',
    'images/syntaxerror.svg',
    'images/clang.svg',
    'images/fingercymbals.svg',
    'images/nofile.svg',
    'images/synth2.svg',
    'images/clap.svg',
    'images/floortom.svg',
    'images/noinput.svg',
    'images/synth.svg',
    'images/close.svg',
    'images/go-down.svg',
    'images/nojournal.svg',
    'images/tom.svg',
    'images/collapse.svg',
    'images/go-up.svg',
    'images/nomedia.svg',
    'images/trash.svg',
    'images/cowbell.svg',
    'images/help-container.svg',
    'images/nomicrophone.svg',
    'images/trianglebell.svg',
    'images/crash.svg',
    'images/nostack.svg',
    'images/turtle2.svg',
    'images/cricket.svg',
    'images/hihat.svg',
    'images/notanumber.svg',
    'images/turtle.svg',
    'images/cup.svg',
    'images/icons.svg',
    'images/notastring.svg',
    'images/video.svg',
    'images/darbuka.svg',
    'images/incompatible.svg',
    'images/overflowerror.svg',
    'images/voices.svg',
    'images/dog.svg',
    'images/kick.svg',
    'images/planetgraphic.png',
    'images/zerodivide.svg',

    'lib/domReady.js',
    'lib/require.js',

    'lib/reqwest.js',
    'lib/jquery-2.1.4.js',
    'lib/jquery-ui.js',
    'lib/webL10n.js',
    'lib/tone.min.js',
    'lib/jquery.ruler.js',
    'lib/modernizr-2.6.2.min.js',
    'lib/easeljs-0.7.1.min.js',
    'lib/tweenjs-0.5.1.min.js',
    'lib/movieclip-0.7.1.min.js',

    'lib/easeljs.js',
    'lib/tweenjs.js',
    'lib/preloadjs.js',
    'lib/tone.js',
    'lib/howler.js',
    'lib/p5.min.js',
    'lib/p5.sound.min.js',
    'lib/p5.dom.min.js',
    'lib/mespeak.js',
    'lib/mespeak_config.json',
    'lib/voices/en/en.json',
    'lib/prefixfree.min.js',
    'lib/Chart.js',

    'css/activity.css',

    'js/detectIE.js',
    'js/pitchdrummatrix.js',
    'js/soundsamples.js',
    'js/activity.js',
    'js/launch.js',
    'js/pitchslider.js',
    'js/status.js',
    'js/analytics.js',
    'js/lilypond.js',
    'js/pitchstaircase.js',
    'js/sugarizer-compatibility.js',
    'js/artwork.js',
    'js/loader.js',
    'js/pitchtimematrix.js',
    'js/tempo.js',
    'js/basicblocks.js',
    'js/logo.js',
    'js/platformstyle.js',
    'js/trash.js',
    'js/blockfactory.js',
    'js/macros.js',
    'js/pluginsviewer.js',
    'js/turtledefs.js',
    'js/block.js',
    'js/modewidget.js',
    'js/protoblocks.js',
    'js/turtle.js',
    'js/blocks.js',
    'js/munsell.js',
    'js/rhythmruler.js',
    'js/utilitybox.js',
    'js/boundary.js',
    'js/musicutils.js',
    'js/samplesviewer.js',
    'js/utils.js',
    'js/clearbox.js',
    'js/palette.js',
    // 'js/savebox.js',

    'lib/sugar-web/env.js',
    'lib/sugar-web/activity/activity.js',
];

self.addEventListener('install', function(event) {
  // Perform install steps
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(function(cache) {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
}); 
