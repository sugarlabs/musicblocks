<section id="programming_mb">
    <section id="programming_mb_header">
        <h1 class="page-header">Programming with Music Blocks</h1>
        <p class="text-justify">
            Content:
        <ol>
            <li><a href="#chunks">Chunks</a></li>
            <li><a href="#transformation">Music Transformation</a></li>
                <ol type="a">
                    <li><a href="#transformation1">Step Pitch Block</a></li>
                    <li><a href="#transformation2">Sharps and Flats</a></li>
                    <li><a href="#transformation3">Adjust-Transposition Block</a></li>
                    <li><a href="#transformation4">Dotted Notes</a></li>
                    <li><a href="#transformation5">Speeding Up and Slowing Down Notes via Mathematical Operations</a></li>
                    <li><a href="#transformation6">Repeating Notes</a></li>  
                    <li><a href="#transformation7">Swinging Notes and Tied Notes</a></li> 
                    <li><a href="#transformation8">Set Volume, Crescendo, Staccato, and Slur Blocks</a></li> 
                    <li><a href="#transformation9">Intervals and Set Relative Volume</a></li> 
                    <li><a href="#transformation10">Absolute Intervals</a></li>                                      
                    <li><a href="#transformation11">Inversion</a></li> 
                    <li><a href="#transformation12">Backwards</a></li> 
                    <li><a href="#transformation13">Setting Voice and Keys</a></li> 
                    <li><a href="#transformation14">Vibrato</a></li> 
                </ol>
            <li><a href="#voices">Voices</a></li>
            <li><a href="#interactions">Interactions</a></li>
        </ol>
        </p>
    </section>
    <br/>
        
    <section id="chunks">
        <p class="text-justify">
        <h2>1. Chunks</h2></p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/chunk_1.png">
            </div>
        </div>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img src="./dist/img/tutorials/programming/chunk_2.png">
            </div>
        </div>
        <br>
        <p class="text-justify">
            Every time you create a new Action stack, Music Blocks creates a new block specific to, and linked with, that stack. (The new block is found at the top of the Block palette, found on the left edge of the screen.) Clicking on and running this block is the same as clicking on your stack. By default, the new blocks are named <mark>chunk</mark>,<mark> chunk1</mark>, <mark>chunk2</mark>... but you can rename them by editing the labels on the Action blocks.
            <br>
            An Action block contains a sequence of actions that will only be executed when the block is referred to by something else, such as a start block. This is useful in orchestrating more complex programs of music.
            <br>
            A Start Block is a chunk that will automatically be executed once the start button is pressed. This is where most of your programs will begin at. There are many ways to Run a program: you can click on the Run button at the upper-left corner of the screen (the "rabbit") to run the music at a fast speed; click on the Run Slow button (the "turtle") to run it slower; and the Step button (the "snail"), to step through the program one block per button press.
            <br>
            In the example above, the Chunk block is inside of a Start block, which means that when any of the start buttons is pressed, the code inside the Start block (the Chunk block) will be executed. You can add more chunks after this one inside the Start block to execute them sequentially.
        </p>
        <br>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img  src="./dist/img/tutorials/programming/chunk_3.png">
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col-md-1 col-xs-1 col-md-offset-1">
                <img src="./dist/img/tutorials/programming/chunk_4.png">
            </div>
        </div>
        <p>You can repeat chunks either by using multiple Chunk blocks or using a Repeat block.</p>
        <br>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/chunk_5.png">
            </div>
        </div>
        <br>
        <p>You can also mix and match chunks. Here we play the action block with name "chunk", followed by "chunk1" twice, and then "chunk" again.</p>
        <br>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img src="./dist/img/tutorials/programming/chunk_6.png">
            </div>
        </div>
        <br>
        <p>A few more chunks and we can make a song. (Can you read the block notation well enough to guess the outcome? Are you familiar with the song we created?)</p>        
    </section>
    <br/>

    <section id="transformation">
        <p class="text-justify">
        <h2>2. Music Transformation</h2></p>
        <p>There are many ways to transform pitch, rhythm, and other sonic qualities.</p>
    </section>
    <br/>

    <section id="transformation1">
        <p class="text-justify">
        <h4>2.a. Step Pitch Block</h4></p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_1.png">
            </div>
        </div>
        <p>The Step Pitch block will move up or down notes in a scale from the last played note. In the example above, Step Pitch blocks are used inside of Repeat blocks to repeat the code 7 times, playing up and down a scale.
        <br><br>
        <a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_scales.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a>
        </p> 
        <br>
        <div class="row">
            <div class="col-md-5 col-xs-5 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_2.png">
            </div>
        </div> 
        <p>Another way to move up and down notes in a scale is to use the Consonant Step Up and Consonant Step Down blocks. These blocks calculate the number of half-steps to the next note in the current mode. (You can read more about Musical Modes below.)
        <br>
        <h4><span class="label label-danger">Note: </span></h4> The Mouse Pitch Number block returns the pitch number of the most recent note played.</p>              
    </section>
    <br/>

    <section id="transformation2">
        <p class="text-justify">
        <h4>2.b. Sharps and Flats</h4></p>
        <div class="row">
            <div class="col-md-5 col-xs-5 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_4.png">
            </div>
        </div>
        <br>
        <p>The Sharp and Flat blocks can be wrapped around Pitch blocks, Note value blocks, or <a href="#chunks">chunks</a>. A sharp will raise the pitch by one half step. A flat will lower by one half step. In the example, on the left, just the Pitch block Mi is lowered by one half step; on the right, both Pitch blocks are raised by one half step.</p>  
    </section>
    <br/>

    <section id="transformation3">
        <p class="text-justify">
        <h4>2.c. Adjust-Transposition Block</h4></p>
         <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_5.png">
            </div>
        </div>
        <br>
        <p>The Adjust-transposition block can be used to make larger shifts in pitch in half step units. A positive number shifts the pitch up and a negative number shifts the pitch down. The input must be a whole number. To shift an entire octave, transpose by 12 half-steps up. -12 will shift an octave down.</p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_6.png">
            </div>
        </div> 
        <br>
        <p>In the example above, we take the song we programmed previously and raise it by one octave.</p>      
    </section>
    <br/>

    <section id="transformation4">
        <p class="text-justify">
        <h4>2.d. Dotted Notes</h4></p>
        <div class="row">
            <div class="col-md-5 col-xs-5 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_7.png">
            </div>
        </div>
        <br>
        <p>You can "dot" notes using the Dot block. A dotted note extends the rhythmic duration of a note by 50%. E.g., a dotted quarter note will play for 3/8 (1/4 + 1/8) of a beat. A dotted eighth note will play for 3/16 (1/8 + 1/16) of a beat.
        <br>
        You can also simply change the note value to mimic a dotted note, for example indicating 3/8 instead of 1/4, for a dotted quarter note. </p>
        <div class="row">
            <div class="col-md-8 col-xs-8 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_8.png">
            </div>
        </div>        
    </section>
    <br/>

    <section id="transformation5">
        <p class="text-justify">
        <h4>2.e. Speeding Up and Slowing Down Notes via Mathematical Operations</h4></p>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_9.png">
            </div>
        </div> 
        <p>You can also multiply (or divide) the beat value, which will speed up or slowdown the notes. Multiplying the beat value of an <mark>1/8</mark> note by <mark>2</mark> is the equivalent of playing a <mark>1/16</mark> note. Dividing the beat value of an <mark>1/8</mark> note by '2' is the equivalent of playing a <mark>1/4</mark> note.</p> 
    </section>
    <br/>

    <section id="transformation6">
        <p class="text-justify">
        <h4>2.f. Repeating Notes</h4></p>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_10.png">
            </div>
        </div> 
        <p>There are several ways to repeat notes. The Repeat block will play a sequence of notes multiple times; the Duplicate block will repeat each note in a sequence.<br>
        In the example, on the left, the result would be <mark>Sol, Re, Sol, Sol, Re, Sol, Sol, Re, Sol, Sol, Re, Sol</mark>; on the right the result would be <mark>Sol, Sol, Sol, Sol, Re, Re, Re, Re, Sol, Sol, Sol, Sol</mark>.</p> 
    </section>
    <br/>

    <section id="transformation7">
        <p class="text-justify">
        <h4>2.g. Swinging Notes and Tied Notes</h4></p>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_11.png">
            </div>
        </div> 
        <p>The Swing block works on pairs of notes (specified by note value), adding some duration (specified by swing value) to the first note and taking the same amount from the second note. Notes that do not match note value are unchanged.
        <br>
        In the example, <mark>re5</mark> would be played as a <mark>1/6</mark> note and <mark>mi5</mark> would be played as a <mark>1/12</mark> note (<mark>1/8 + 1/24 === 1/6</mark> and <mark>1/8 - 1/24 === 1/12</mark>). Observe that the total duration of the pair of notes is unchanged.
        <br>
        Tie also works on pairs of notes, combining them into one note. (The notes must be identical in pitch, but can vary in rhythm.)</p> 
        <div class="row">
            <div class="col-md-8 col-xs-8 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_12.png">
            </div>
        </div>         
    </section>
    <br/>

    <section id="transformation8">
        <p class="text-justify">
        <h4>2.h. Set Volume, Crescendo, Staccato, and Slur Blocks</h4></p>
        <div class="row">
            <div class="col-md-5 col-xs-5 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_13.png">
            </div>
        </div> 
        <p>
        The Set volume block will change the volume of the notes. The default is 50; the range is 0 (silence) to 100 (full volume).
        <br>
        The Crescendo block will increase (or decrease) the volume of the contained notes by a specified amount for every note played. For example, if you have 3 notes in sequence contained in a Crescendo block with a value of 5, the final note will be at 15% more than the original value for volume.
        <br>
        The Staccato block shortens the length of the actual note—making them tighter bursts—while maintaining the specified rhythmic value of the notes.
        <br>
        The Slur block lengthens the sustain of notes—running longer than the noted duration and blending it into the next note—while maintaining the specified rhythmic value of the notes.
        </p> 
    </section>
    <br/>

    <section id="transformation9">
        <p class="text-justify">
        <h4>2.i. Intervals and Set Relative Volume</h4></p>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_14.png">
            </div>
        </div>
        <p>
        The Interval block calculates a relative interval, e.g., a fifth, and adds the additional pitches to a note's playback. In the figure, we add La to Re and Ti to Mi.
        <br>
        The Set Relative Volume block modifies the clamped note's volume according to the input value of the block in an added (or subtracted when negative) percentage with respect to the original volume.For example,100 would mean doubling the current volume.    
        </p> 
    </section>
    <br/>

    <section id="transformation10">
        <p class="text-justify">
        <h4>2.j. Absolute Intervals</h4></p>
        <div class="row">
            <div class="col-md-5 col-xs-5 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_15.png">
            </div>
        </div> 
        <p>The Augmented block calculates an absolute interval, e.g., an augmented fifth, and adds the additional pitches to a note. Similarly, the Minor block calculates an absolute interval, e.g., a minor third. Other absolute intervals include Perfect, Diminished, and Major.
        <br>    
        In the augmented fifth example above, a chord of D5 and A5 are played, followed by a chord of E5 and C5. In the minor third example, which includes a shift of one octave, first a chord of D5 and F5 is played, followed by chord of E5 and G6.</p>
    </section>
    <br/>

    <section id="transformation11">
        <p class="text-justify">
        <h4>2.k. Inversion</h4></p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_16.png">
            </div>
        </div> 
        <p>
        The Invert block will invert a series of notes around a target note. There are two different modes of the Invert block: odd and even, the latter shifts the point of rotation up by a <mark>1/4</mark> step, enabling rotation around a point between two notes.
        <br>
        In the invert (even) example, <mark>D4</mark> is inverted around<mark>G4</mark>, resulting in a <mark>C5</mark>. In the invert (odd) example, <mark>D4</mark> is inverted around a point midway between <mark>G4</mark> and <mark>G♯4</mark> resulting in a <mark>C♯5</mark>.
        </p>
    </section>
    <br/>

    <section id="transformation12">
        <p class="text-justify">
        <h4>2.l. Backwards</h4></p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_17.png">
            </div>
        </div>
        <br>
        <p>
        The Backward block will play the contained notes in reverse order (retrograde). In the example above, the notes in Chunk are played as <mark>Sol</mark>, <mark>Ti</mark>, <mark>La</mark>, <mark>Sol</mark>, i.e., from the bottom to the top of the stack.
        <br><br>
        <a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_crab_canon.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a>
        </p> 
        <br>
        <p>Note that all of the blocks inside a Backward block are reverse, so use this feature with caution if you include logic intermixed with notes.</p>
    </section>
    <br/>

    <section id="transformation13">
        <p class="text-justify">
        <h4>2.m. Setting Voice and Keys</h4></p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_18.png">
            </div>
        </div> 
        <br>
        <p>The Set Voice block selects a voice for the synthesizer for any contained blocks, e.g., violin or cello.</p>
        <br>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_19.png">
            </div>
        </div>  
        <br>
        <p>
        The Set Key block will change the key and mode of the mapping between solfege, e.g., <mark>Do</mark>, <mark>Re</mark>, <mark>Mi</mark>, to note names, e.g., <mark>C</mark>, <mark>D</mark>, <mark>E</mark>, when in C Major. Modes include Major and Minor, Chromatic, and a number of more exotic modes, such as Bebop, Geez, Maqam, etc. This block allows users to access "movable Do" within Music Blocks, where the mapping of solfege to particular pitch changes depending on the user's specified tonality.
        </p>
        <br>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_20.png">
            </div>
        </div>
        <p>
        In the above example, the sequence of drum beats is increased over time.
        <br><br>
        <a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_drumexample.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a>
        </p>                 
    </section>
    <br/>

    <section id="transformation14">
        <p class="text-justify">
        <h4>2.n. Vibrato</h4></p>
         <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/music_21.png">
            </div>
        </div>
        <br>
        <p>
        The Vibrato Block adds a rapid variation in pitch to any contained notes. The intensity of the variation ranges from 1 to 100 (cents), e.g. plus or minus up to one half step. The rate argument determines the rate of the variation.
        </p>
    </section>
    <br/>

    <section id="voices">
        <p class="text-justify">
        <h2>3. Voices</h2></p>
        <p>Each Start block runs as a separate voice in Music Blocks. (When you click on the Run button, all of the Start blocks are run concurrently.)</p>
         <div class="row">
            <div class="col-md-2 col-xs-2 col-md-offset-1">
                <img  src="./dist/img/tutorials/programming/voices_1.png">
            </div>
        </div> 
        <br>
        <p>If we put our song into an action...</p>  
        <div class="row">
            <div class="col-md-4 col-xs-4 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/voices_2.png">
            </div>
        </div>
        <br>
        <p>...we can run it from multiple Start blocks.</p>
        <br>
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/voices_3.png">
            </div>
        </div> 
        <br>
        <p>It gets more interesting if we shift up and down octaves.</p>
        <br> 
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/voices_4.png">
            </div>
        </div>
        <br>               
        <p>It gets more interesting if we shift up and down octaves.</p>
        <br>
        <p><a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_frerejacques.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a></p> 
        <br> 
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img src="./dist/img/tutorials/programming/voices_5.png">
            </div>
        </div> 
        <p>A special "drum" version of the Start block is available for laying down a drum track. Any Pitch blocks encounted while starting from a drum will be played as <mark>C2</mark> with the default drum sample. In the example above, all of the notes in <mark>chunk</mark> will be played with a kick drum.</p>                     
    </section>
    <br/>

    <section id="interactions">
        <p class="text-justify">
        <h2>4. Interactions</h2></p>
        <p>There are many ways to interactive with Music Blocks, including tracking the mouse position to impact some aspect of the music.</p>
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/interactions_1.png">
            </div>
        </div> 
        <br>
        <p>
        For example, we can launch the phrases (chunks) interactively. When the mouse is in the lower-left quadrant, <mark>chunk</mark> is played; lower-right quadrant, <mark>chunk1</mark>; upper-left quadrant, <mark>chunk2</mark>; and upper-right quadrant, <mark>chunk3</mark>.
        </p>
        <br>
        <p><a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_interactivefrerejacques.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a></p> 
        <br>  
        <div class="row">
            <div class="col-md-6 col-xs-6 col-md-offset-1">
                 <img class="full-size-100p" src="./dist/img/tutorials/programming/interactions_2.png">
            </div>
        </div> 
        <br>
        <p>
        In the example above, a simple two-key piano is created by associating click events on two different turtles with individual notes. Can you make an 8-key piano?.
        </p>
        <br>
        <p><a href="http://walterbender.github.io/musicblocks/?file=MusicBlocks_twokey_piano.tb" class="btn btn-primary btn-sm" role="button" target="_blank">Open in Music Blocks</a></p> 
        <br> 
        <div class="row">
            <div class="col-md-3 col-xs-3 col-md-offset-1">
                <img class="full-size-100p" src="./dist/img/tutorials/programming/interactions_3.png">
            </div>
        </div> 
        <br>
        <p>
        You can also add a bit of randomness to your music. In the top example above, the One-of block is used to randomly assign either <mark>Do</mark> or <mark>Re</mark> each time the Note value block is played. In the bottom example above, the One-of block is used to randomly select between <mark>chunk1</mark> and <mark>chunk2</mark>.
        </p>        
    </section>
    <br/>
</section>
