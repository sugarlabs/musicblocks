"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_toPropertyKey(s.key),s)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);var s=i.call(e,t||"default");if("object"!=_typeof(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}var ModeWidget=function(){function r(e){var t=this;_classCallCheck(this,r),this.activity=e,this._modeBlock=this.activity.logo.modeBlock,this._locked=!1,this._pitch=this.activity.turtles.ithTurtle(0).singer.keySignature[0],this._noteValue=.333,this._undoStack=[],this._playing=!1,this._selectedNotes=[],this._newPattern=[];var i=window.innerWidth;this._cellScale=i/1200,this.widgetWindow=window.widgetWindows.windowFor(this,"custom mode"),this.widgetWindow.clear(),this.widgetWindow.show(),this.modeTableDiv=document.createElement("div"),this.modeTableDiv.style.display="inline",this.modeTableDiv.style.visibility="visible",this.modeTableDiv.style.border="0px",this.modeTableDiv.innerHTML='<div id="meterWheelDiv"></div>',this.modeTableDiv.innerHTML+='<div id="modePianoDiv" class=""></div>',this.modeTableDiv.innerHTML+='<table id="modeTable"></table>',this.widgetWindow.getWidgetBody().append(this.modeTableDiv),this.widgetWindow.onclose=function(){t._playing=!1,t.activity.hideMsgs(),t.widgetWindow.destroy()},this.widgetWindow.onmaximize=this._scale,this._playButton=this.widgetWindow.addButton("play-button.svg",r.ICONSIZE,_("Play")),this._playButton.onclick=function(){t.activity.logo.resetSynth(0),t._playingStatus()?(t._playing=!1,t._playButton.innerHTML='&nbsp;&nbsp;<img \n                        src="header-icons/play-button.svg" \n                        title="'.concat(_("Play all"),'" \n                        alt="').concat(_("Play all"),'" \n                        height="').concat(r.ICONSIZE,'" \n                        width="').concat(r.ICONSIZE,'" \n                        vertical-align="middle"\n                    >&nbsp;&nbsp;')):(t._playing=!0,t._playButton.innerHTML='&nbsp;&nbsp;<img \n                        src="header-icons/stop-button.svg" \n                        title="'.concat(_("Stop"),'" \n                        alt="').concat(_("Stop"),'" \n                        height="').concat(r.ICONSIZE,'" \n                        width="').concat(r.ICONSIZE,'" \n                        vertical-align="middle"\n                    >&nbsp;&nbsp;'),t._playAll())},this.widgetWindow.addButton("export-chunk.svg",r.ICONSIZE,_("Save")).onclick=this._save.bind(this),this.widgetWindow.addButton("erase-button.svg",r.ICONSIZE,_("Clear")).onclick=this._clear.bind(this),this.widgetWindow.addButton("rotate-left.svg",r.ICONSIZE,_("Rotate counter clockwise")).onclick=this._rotateLeft.bind(this),this.widgetWindow.addButton("rotate-right.svg",r.ICONSIZE,_("Rotate clockwise")).onclick=this._rotateRight.bind(this),this.widgetWindow.addButton("invert.svg",r.ICONSIZE,_("Invert")).onclick=this._invert.bind(this),this.widgetWindow.addButton("restore-button.svg",r.ICONSIZE,_("Undo")).onclick=this._undo.bind(this),this._piemenuMode();var s=docById("modeTable").insertRow().insertCell();s.innerHTML="&nbsp;",s.style.backgroundColor=platformColor.selectorBackground,this._setMode(),e.textMsg(_("Click in the circle to select notes for the mode."),3e3),setTimeout(this.widgetWindow.sendToCenter,0)}return _createClass(r,[{key:"_playingStatus",value:function(){return this._playing}},{key:"_addButton",value:function(e,t,i,s){var n=this,o=e.insertCell(-1);return o.innerHTML='&nbsp;&nbsp;<img \n                src="header-icons/'.concat(t,'" \n                title="').concat(s,'" \n                alt="').concat(s,'" \n                height="').concat(i,'" \n                width="').concat(i,'" \n                vertical-align="middle" \n                align-content="center"\n            >&nbsp;&nbsp;'),o.style.width=r.BUTTONSIZE+"px",o.style.minWidth=o.style.width,o.style.maxWidth=o.style.width,o.style.height=o.style.width,o.style.minHeight=o.style.height,o.style.maxHeight=o.style.height,o.style.backgroundColor=platformColor.selectorBackground,o.onmouseover=function(){n.style.backgroundColor=platformColor.selectorBackgroundHOVER},o.onmouseout=function(){n.style.backgroundColor=platformColor.selectorBackground},o}},{key:"_scale",value:function(){var e=this.getWidgetFrame().offsetHeight-this.getDragElement().offsetHeight,t=this.getWidgetBody(),i=this.isMaximized?e/t.offsetHeight:1;t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.children[0].style.display="flex",t.children[0].style.flexDirection="column",t.children[0].style.alignItems="center";var s=this.getWidgetBody().getElementsByTagName("svg")[0];s.style.pointerEvents="none",s.setAttribute("height","".concat(400*i,"px")),s.setAttribute("width","".concat(400*i,"px")),setTimeout(function(){s.style.pointerEvents="auto"},100)}},{key:"_setMode",value:function(){var e=keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature),t=MUSICALMODES[e[1]],i=docById("modeTable"),s=i.rows.length-1,n=e[0]+" "+_(e[1]);i.rows[s].cells[0].innerHTML=n,this.widgetWindow.updateTitle(n);for(var o=0,l=0,a=0;a<12;a++)a===l?(this._noteWheel.navItems[a].navItem.show(),this._selectedNotes[a]=!0,l+=t[o],o+=1):this._noteWheel.navItems[a].navItem.hide();"C"===e[0]&&this._showPiano()}},{key:"_showPiano",value:function(){var e=docById("modePianoDiv");e.style.visibility="visible",e.style.position="relative",e.style.border="0px",e.style.top="0px",e.style.left="0px",e.innerHTML='<img src="images/piano_keys.png"  id="modeKeyboard" style="top:0px; left:0px; position:relative;">';var t=["images/highlights/sel_c.png","images/highlights/sel_c_sharp.png","images/highlights/sel_d.png","images/highlights/sel_d_sharp.png","images/highlights/sel_e.png","images/highlights/sel_f.png","images/highlights/sel_f_sharp.png","images/highlights/sel_g.png","images/highlights/sel_g_sharp.png","images/highlights/sel_a.png","images/highlights/sel_a_sharp.png","images/highlights/sel_b.png"],i=keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0],s={"C♭":11,C:0,"C♯":1,"D♭":1,D:2,"D♯":3,"E♭":3,E:4,"E♯":5,"F♭":4,F:5,"F♯":6,"G♭":6,G:7,"G♯":8,"A♭":8,A:9,"A♯":10,"B♭":10,B:11,"B♯":0},n=i in s?s[i]:0;e.innerHTML+='<img id="pkey_0" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_1" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_2" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_3" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_4" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_5" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_6" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_7" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_8" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_9" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_10" style="top:0px; left:0px; position:absolute;">',e.innerHTML+='<img id="pkey_11" style="top:0px; left:0px; position:absolute;">';for(var o=0;o<12;++o)this._selectedNotes[o]&&(document.getElementById("pkey_"+o).src=t[(o+n)%12])}},{key:"_invert",value:function(){this._locked||(this._locked=!0,this._saveState(),this.__invertOnePair(1),"C"===keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&this._showPiano())}},{key:"__invertOnePair",value:function(e){var t=this,i=this._selectedNotes[e];this._selectedNotes[e]=this._selectedNotes[12-e],this._selectedNotes[e]?this._noteWheel.navItems[e].navItem.show():this._noteWheel.navItems[e].navItem.hide(),this._selectedNotes[12-e]=i,this._selectedNotes[12-e]?this._noteWheel.navItems[12-e].navItem.show():this._noteWheel.navItems[12-e].navItem.hide(),5===e?(this._saveState(),this._setModeName(),"C"===keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&this._showPiano(),this._locked=!1):setTimeout(function(){t.__invertOnePair(e+1)},r.ROTATESPEED)}},{key:"_resetNotes",value:function(){for(var e=0;e<this._selectedNotes.length;e++)this._selectedNotes[e]?this._noteWheel.navItems[e].navItem.show():this._noteWheel.navItems[e].navItem.hide(),this._playWheel.navItems[e].navItem.hide()}},{key:"_rotateRight",value:function(){if(!this._locked){this._locked=!0,this._saveState(),this._newPattern=[],this._newPattern.push(this._selectedNotes[11]);for(var e=0;e<11;e++)this._newPattern.push(this._selectedNotes[e]);this.__rotateRightOneCell(1)}}},{key:"__rotateRightOneCell",value:function(e){var t=this;this._selectedNotes[e]=this._newPattern[e],this._selectedNotes[e]?this._noteWheel.navItems[e].navItem.show():this._noteWheel.navItems[e].navItem.hide(),0===e?setTimeout(function(){t._selectedNotes[0]?(t._saveState(),t._setModeName(),"C"===keySignatureToMode(t.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&t._showPiano(),t._locked=!1):(t._locked=!1,t._rotateRight())},r.ROTATESPEED):setTimeout(function(){t.__rotateRightOneCell((e+1)%12)},r.ROTATESPEED)}},{key:"_rotateLeft",value:function(){if(!this._locked){this._locked=!0,this._saveState(),this._newPattern=[];for(var e=1;e<12;e++)this._newPattern.push(this._selectedNotes[e]);this._newPattern.push(this._selectedNotes[0]),this.__rotateLeftOneCell(11)}}},{key:"__rotateLeftOneCell",value:function(e){var t=this;this._selectedNotes[e]=this._newPattern[e],this._selectedNotes[e]?this._noteWheel.navItems[e].navItem.show():this._noteWheel.navItems[e].navItem.hide(),0===e?setTimeout(function(){t._selectedNotes[0]?(t._saveState(),t._setModeName(),"C"===keySignatureToMode(t.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&t._showPiano(),t._locked=!1):(t._locked=!1,t._rotateLeft())},r.ROTATESPEED):setTimeout(function(){t.__rotateLeftOneCell(e-1)},r.ROTATESPEED)}},{key:"_playAll",value:function(){if(!this._locked){this.activity.logo.synth.stop(),this._locked=!0,this._notesToPlay=[];for(var e=0;e<12;e++)this._selectedNotes[e]&&this._notesToPlay.push(e);this._notesToPlay.push(12),this._notesToPlay.push(12);for(var t=11;-1<t;t--)this._selectedNotes[t]&&this._notesToPlay.push(t);this._lastNotePlayed=null,this._playing&&this.__playNextNote(0)}}},{key:"__playNextNote",value:function(o){var l=this,a=["images/highlights/sel_c.png","images/highlights/sel_c_sharp.png","images/highlights/sel_d.png","images/highlights/sel_d_sharp.png","images/highlights/sel_e.png","images/highlights/sel_f.png","images/highlights/sel_f_sharp.png","images/highlights/sel_g.png","images/highlights/sel_g_sharp.png","images/highlights/sel_a.png","images/highlights/sel_a_sharp.png","images/highlights/sel_b.png"],h=["images/animations/sel_c1.png","images/animations/sel_c_sharp1.png","images/animations/sel_d1.png","images/animations/sel_d_sharp1.png","images/animations/sel_e1.png","images/animations/sel_f1.png","images/animations/sel_f_sharp1.png","images/animations/sel_g1.png","images/animations/sel_g_sharp1.png","images/animations/sel_a1.png","images/animations/sel_a_sharp1.png","images/animations/sel_b1.png"],e=this._noteValue+.125;if("C"===keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0]){if(o>this._notesToPlay.length-1)return void setTimeout(function(){l._playing=!1;var e=document.getElementById("pkey_0");null!==e&&(e.src=a[0]),l._playButton.innerHTML='&nbsp;&nbsp;<img \n                            src="header-icons/play-button.svg" \n                            title="'.concat(_("Play all"),'" \n                            alt="').concat(_("Play all"),'" \n                            height="').concat(r.ICONSIZE,'" \n                            width="').concat(r.ICONSIZE,'" \n                            vertical-align="middle"\n                        >&nbsp;&nbsp;'),l._resetNotes(),l._locked=!1},1e3*e);setTimeout(function(){var e;null!==l._lastNotePlayed&&(l._playWheel.navItems[l._lastNotePlayed%12].navItem.hide(),null!==(e=document.getElementById("pkey_"+l._lastNotePlayed%12))&&(e.src=a[(l._lastNotePlayed+0)%12]));var t,i=l._notesToPlay[o];l._playWheel.navItems[i%12].navItem.show(),12===i||null!==(t=document.getElementById("pkey_"+i%12))&&(t.src=h[(i+0)%12]),l._lastNotePlayed=i;var s=l.activity.turtles.ithTurtle(0).singer.keySignature,n=getNote(l._pitch,4,i,s,!1,null,l.activity.errorMsg);if(l.activity.logo.synth.trigger(0,n[0].replace(/♯/g,"#").replace(/♭/g,"b")+n[1],l._noteValue,DEFAULTVOICE,null,null),!l._playing)return l._locked=!1,void setTimeout(l._resetNotes(),500);l.__playNextNote(o+1)},1e3*e)}else{if(o>this._notesToPlay.length-1)return void setTimeout(function(){l._playing=!1,l._playButton.innerHTML='&nbsp;&nbsp;<img \n                            src="header-icons/play-button.svg" \n                            title="'.concat(_("Play all"),'" \n                            alt="').concat(_("Play all"),'" \n                            height="').concat(r.ICONSIZE,'" \n                            width="').concat(r.ICONSIZE,'" \n                            vertical-align="middle"\n                        >&nbsp;&nbsp;'),l._resetNotes(),l._locked=!1},1e3*e);setTimeout(function(){null!==l._lastNotePlayed&&l._playWheel.navItems[l._lastNotePlayed%12].navItem.hide();var e=l._notesToPlay[o];l._playWheel.navItems[e%12].navItem.show(),l._lastNotePlayed=e;var t=l.activity.turtles.ithTurtle(0).singer.keySignature,i=getNote(l._pitch,4,e,t,!1,null,l.activity.errorMsg);if(l.activity.logo.synth.trigger(0,i[0].replace(/♯/g,"#").replace(/♭/g,"b")+i[1],l._noteValue,DEFAULTVOICE,null,null),!l._playing)return l._locked=!1,void setTimeout(l._resetNotes(),500);l.__playNextNote(o+1)},1e3*e)}}},{key:"_playNote",value:function(e){var t=this.activity.turtles.ithTurtle(0).singer.keySignature,i=getNote(this._pitch,4,e,t,!1,null,this.activity.errorMsg);this.activity.logo.synth.trigger(0,i[0].replace(/♯/g,"#").replace(/♭/g,"b")+i[1],this._noteValue,DEFAULTVOICE,null,null)}},{key:"_saveState",value:function(){JSON.stringify(this._selectedNotes)!==last(this._undoStack)&&this._undoStack.push(JSON.stringify(this._selectedNotes))}},{key:"_undo",value:function(){if(0<this._undoStack.length){for(var e=JSON.parse(this._undoStack.pop()),t=0;t<12;t++)this._selectedNotes[t]=e[t];this._resetNotes(),this._setModeName(),"C"===keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&this._showPiano()}}},{key:"_clear",value:function(){this._saveState();for(var e=1;e<12;e++)this._selectedNotes[e]=!1;this._resetNotes(),this._setModeName(),"C"===keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&this._showPiano()}},{key:"_calculateMode",value:function(){for(var e=[],t=1,i=1;i<12;i++)this._selectedNotes[i]?(e.push(t),t=1):t+=1;return e.push(t),e}},{key:"_setModeName",value:function(){var e=docById("modeTable"),t=e.rows.length-1,i=JSON.stringify(this._calculateMode()),s=keySignatureToMode(this.activity.turtles.ithTurtle(0).singer.keySignature)[0];for(var n in MUSICALMODES)if(JSON.stringify(MUSICALMODES[n])===i){if(null!=this._modeBlock){for(var o in this.activity.blocks.blockList)"modename"==this.activity.blocks.blockList[o].name?(this.activity.blocks.blockList[o].value=n,this.activity.blocks.blockList[o].text.text=_(n),this.activity.blocks.blockList[o].updateCache()):"notename"==this.activity.blocks.blockList[o].name&&(this.activity.blocks.blockList[o].value=s,this.activity.blocks.blockList[o].text.text=_(s));this.activity.refreshCanvas()}var l=s+" "+_(n);return e.rows[t].cells[0].innerHTML=l,void this.widgetWindow.updateTitle(l)}e.rows[t].cells[0].innerHTML="",this.widgetWindow.updateTitle("")}},{key:"_save",value:function(){var e,t=this,i=docById("modeTable"),s=i.rows.length-1;""===i.rows[s].cells[0].innerHTML&&(e=this._calculateMode(),this.activity.storage.custommode=JSON.stringify(e));var n=i.rows[s].cells[0].innerHTML;""===n&&(n=_("custom"));for(var o=[[0,["action",{collapsed:!0}],150,100,[null,1,2,null]],[1,["text",{value:n}],0,0,[0]]],l=0,a=this._calculateMode().length,h=0,r=0;r<12;r++){var c,d,u,g,p=11-r;this._selectedNotes[p]&&(h+=1,c=NOTESTABLE[(1+p)%12],u=(d=o.length)+1,g=d+2,h===a?o.push([d,"pitch",0,0,[l,u,g,null]]):o.push([d,"pitch",0,0,[l,u,g,d+3]]),o.push([u,["solfege",{value:c}],0,0,[d]]),o.push([g,["number",{value:4}],0,0,[d]]),l=d)}this.activity.blocks.loadNewBlocks(o),activity.textMsg(_("New action block generated."),3e3),o=[[0,["definemode",{collapsed:!0}],150,150,[null,1,3,2]],[1,["text",{value:n}],0,0,[0]],[2,"hidden",0,0,[0,null]]],l=0,a=this._calculateMode().length;for(var y,m=h=0;m<12;m++){this._selectedNotes[m]&&(h+=1,y=o.length,h===a?o.push([y,"pitchnumber",0,0,[l,y+1,null]]):o.push([y,"pitchnumber",0,0,[l,y+1,y+2]]),o.push([y+1,["number",{value:m}],0,0,[y]]),l=y)}setTimeout(function(){t.activity.blocks.loadNewBlocks(o)},2e3)}},{key:"_piemenuMode",value:function(){var t=this;docById("meterWheelDiv").style.display="",this._modeWheel=new wheelnav("meterWheelDiv",null,400,400),this._noteWheel=new wheelnav("_noteWheel",this._modeWheel.raphael),this._playWheel=new wheelnav("_playWheel",this._modeWheel.raphael),wheelnav.cssMeter=!0,this._modeWheel.colors=platformColor.modeWheelcolors,this._modeWheel.slicePathFunction=slicePath().DonutSlice,this._modeWheel.slicePathCustom=slicePath().DonutSliceCustomization(),this._modeWheel.slicePathCustom.minRadiusPercent=.4,this._modeWheel.slicePathCustom.maxRadiusPercent=.75,this._modeWheel.sliceSelectedPathCustom=this._modeWheel.slicePathCustom,this._modeWheel.sliceInitPathCustom=this._modeWheel.slicePathCustom,this._modeWheel.clickModeRotate=!1,this._modeWheel.navAngle=-90;for(var e=["0","1","2","3","4","5","6","7","8","9","10","11"],i=[],s=this._modeWheel.animatetime=0;s<12;s++)i.push(e[s]);this._modeWheel.createWheel(i),this._noteWheel.colors=platformColor.noteValueWheelcolors,this._noteWheel.slicePathFunction=slicePath().DonutSlice,this._noteWheel.slicePathCustom=slicePath().DonutSliceCustomization(),this._noteWheel.slicePathCustom.minRadiusPercent=.75,this._noteWheel.slicePathCustom.maxRadiusPercent=.9,this._noteWheel.sliceSelectedPathCustom=this._noteWheel.slicePathCustom,this._noteWheel.sliceInitPathCustom=this._noteWheel.slicePathCustom,this._noteWheel.clickModeRotate=!1,this._noteWheel.navAngle=-90,this._noteWheel.titleRotateAngle=90,i=[" "],this._selectedNotes=[!0];for(var n=1;n<12;n++)i.push("x"),this._selectedNotes.push(!1);this._noteWheel.createWheel(i),this._playWheel.colors=[platformColor.orange],this._playWheel.slicePathFunction=slicePath().DonutSlice,this._playWheel.slicePathCustom=slicePath().DonutSliceCustomization(),this._playWheel.slicePathCustom.minRadiusPercent=.3,this._playWheel.slicePathCustom.maxRadiusPercent=.4,this._playWheel.sliceSelectedPathCustom=this._playWheel.slicePathCustom,this._playWheel.sliceInitPathCustom=this._playWheel.slicePathCustom,this._playWheel.clickModeRotate=!1,this._playWheel.navAngle=-90,this._playWheel.titleRotateAngle=90,i=[];for(var o=0;o<12;o++)i.push(" ");this._playWheel.createWheel(i);for(var l=0;l<12;l++)this._playWheel.navItems[l].navItem.hide();for(var a=function(){var e=t._modeWheel.selectedNavItemIndex;t._saveState(),t._selectedNotes[e]=!0,t._noteWheel.navItems[e].navItem.show(),t._playNote(e),t._setModeName(),"C"===keySignatureToMode(t.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&t._showPiano()},h=function(){var e=t._noteWheel.selectedNavItemIndex;0!=e&&(t._noteWheel.navItems[e].navItem.hide(),t._saveState(),t._selectedNotes[e]=!1,t._setModeName(),"C"===keySignatureToMode(t.activity.turtles.ithTurtle(0).singer.keySignature)[0]&&t._showPiano())},r=0;r<12;r++)this._modeWheel.navItems[r].navigateFunction=a,this._noteWheel.navItems[r].navigateFunction=h,this._noteWheel.navItems[r].navItem.hide()}}]),r}();_defineProperty(ModeWidget,"ICONSIZE",32),_defineProperty(ModeWidget,"BUTTONSIZE",53),_defineProperty(ModeWidget,"ROTATESPEED",125),_defineProperty(ModeWidget,"BUTTONDIVWIDTH",535);