"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0===i)return("string"===e?String:Number)(t);var n=i.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}var PASTEBOX='<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg version="1.1" width="300" height="55" id="svg1" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"> <defs id="defs1" /> <rect width="300" height="55" x="0" y="0" style="fill:#f0f0f0;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:1.0351" id="rect1" /> <g transform="translate(244.943,-0.05299642)" style="display:block;fill:#000000" id="g1"> <path d="m 27.557,5.053 c -12.43,0 -22.5,10.076 -22.5,22.497 0,12.432 10.07,22.503 22.5,22.503 12.431,0 22.5,-10.071 22.5,-22.503 0,-12.421 -10.07,-22.497 -22.5,-22.497 z m 10.199,28.159 c 1.254,1.256 1.257,3.291 0,4.545 -0.628,0.629 -1.451,0.943 -2.274,0.943 -0.822,0 -1.644,-0.314 -2.27,-0.94 l -5.76,-5.761 -5.76,5.761 c -0.627,0.626 -1.449,0.94 -2.271,0.94 -0.823,0 -1.647,-0.314 -2.275,-0.943 -1.254,-1.254 -1.254,-3.289 0.004,-4.545 l 5.758,-5.758 -5.758,-5.758 c -1.258,-1.254 -1.258,-3.292 -0.004,-4.546 1.255,-1.254 3.292,-1.259 4.546,0 l 5.76,5.759 5.76,-5.759 c 1.252,-1.259 3.288,-1.254 4.544,0 1.257,1.254 1.254,3.292 0,4.546 l -5.758,5.758 z" style="display:inline;fill:#000000" id="path1" /> </g> <g id="g4" transform="translate(18,-0.05299642)"> <g transform="translate(176.943)" style="display:block;fill:#008000" id="g2"> <path d="m 27.557,5.053 c -12.43,0 -22.5,10.076 -22.5,22.497 0,12.432 10.07,22.503 22.5,22.503 12.431,0 22.5,-10.071 22.5,-22.503 0,-12.421 -10.07,-22.497 -22.5,-22.497 z" style="display:inline;fill:#008000" id="path1-3" /> </g> <path id="path3" style="fill:#ffffff;stroke:#ffffff;stroke-width:6;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:none;stroke-opacity:1" d="m 216.1272,19.380148 -16.33945,16.345703 z m -23.25273,8.640234 6.91328,7.705469 z" /> </g></svg>',PasteBox=function(){function e(t){_classCallCheck(this,e),this.activity=t,this._container=null,this.save=null,this.close=null,this._scale=1}return _createClass(e,[{key:"hide",value:function(){null!=this._container&&(this._container.visible=!1,this.activity.refreshCanvas(),docById("paste").value="",docById("paste").style.visibility="hidden")}},{key:"createBox",value:function(t,e,i){null==this._container&&(this._scale=t,this._container=new createjs.Container,this.activity.stage.addChild(this._container),this._container.x=e,this._container.y=i,this._makeBoxBitmap(PASTEBOX,"box",function(t,e,i){t._container.addChild(i),t._loadClearContainerHandler(),t._container.visible=!0,t.activity.refreshCanvas()},null))}},{key:"show",value:function(){this._container.visible=!0,this.activity.refreshCanvas(),docById("paste").style.visibility="visible"}},{key:"getPos",value:function(){return[this._container.x,this._container.y]}},{key:"_loadClearContainerHandler",value:function(){var n=this,t=new createjs.Shape;this.bounds=this._container.getBounds(),t.graphics.beginFill("#FFF").drawRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height),t.x=0,t.y=0,this._container.hitArea=t;var o=!1;this._container.on("click",function(t){var e,i;o||(o=!0,setTimeout(function(){o=!1},500),e=t.stageX/n._scale-n._container.x,i=t.stageY/n._scale-n._container.y,console.log(e,i),200<e&&e<250&&i<55&&(n.activity.pasted(),n.hide()),250<e&&i<55&&n.hide())})}},{key:"_makeBoxBitmap",value:function(t,e,i,n){var o=this,r=new Image;r.onload=function(){var t=new createjs.Bitmap(r);i(o,e,t,n)},r.src="data:image/svg+xml;base64,"+window.btoa(base64Encode(t))}}]),e}();"undefined"!=typeof module&&module.exports&&(module.exports=PasteBox);