"use strict";var _TACAT,_TASCORE;function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var o=0,n=function(){};return{s:n,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,p=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return p=e.done,e},e:function(e){a=!0,i=e},f:function(){try{p||null==t.return||t.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=Array(r);t<r;t++)o[t]=e[t];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return("string"===r?String:Number)(e);var o=t.call(e,r||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var TACAT=(_defineProperty(_TACAT={rest:"ignore",square:"ignore",triangle:"ignore",sine:"ignore",sawtooth:"ignore",invert2:"ignore",invert:"ignore",rhythm:"ignore",rhythmruler:"ignore",swing:"ignore",newswing:"ignore",rhythmicdot:"ignore",note:"ignore",harmonic:"ignore",neighbor:"ignore",setvoice:"ignore",synthname:"ignore",setkey:"ignore",drum:"ignore",saveabc:"ignore",savelilypond:"ignore",savesvg:"ignore",flat:"ignore",sharp:"ignore",diminished:"ignore",augmented:"ignore",perfect:"ignore",minor:"ignore",major:"ignore",invertmode:"pitchfactor",transpositionfactor:"pitchfactor",consonantstepsizedown:"pitchfactor",consonantstepsizeup:"pitchfactor",deltapitch:"pitchfactor",mypitch:"pitchfactor",setpitchnumberoffset:"pitchfactor",number2pitch:"pitchfactor",number2octave:"pitchfactor",accidentalname:"ignore",eastindiansolfege:"ignore",notename:"ignore",solfege:"ignore",invert1:"transpose",register:"transpose",settransposition:"transpose",setratio:"transpose",interval:"pitch",accidental:"pitch",hertz:"pitch",pitchnumber:"pitch",scaledegree:"pitch",steppitch:"pitch",pitch:"pitch",oscillator:"ignore",filtertype:"ignore",oscillatortype:"ignore",envelope:"ignore",filter:"ignore",tuplet2:"rhythm",tuplet3:"rhythm",tuplet4:"rhythm",stuplet:"rhythm",rhythm2:"rhythm",timbre:"ignore",modewidget:"ignore",tempo:"ignore",temperament:"ignore",pitchdrummatrix:"ignore",pitchslider:"ignore",musickeyboard:"ignore",pitchstaircase:"ignore",rhythmruler2:"ignore",matrix:"ignore",status:"ignore",mynotevalue:"rhythmfactor",duplicatefactor:"rhythmfactor",skipfactor:"rhythmfactor",osctime:"rhythm",newswing2:"rhythm",backward:"rhythm",skipnotes:"rhythm",duplicatenotes:"rhythm",multiplybeatfactor:"rhythm",tie:"rhythm",rhythmicdot2:"rhythm",rest2:"note",newnote:"note",beatfactor:"rhythmfactor",bpmfactor:"rhythmfactor",measurevalue:"rhythmfactor",beatvalue:"rhythmfactor",notecounter:"rhythmfactor",elapsednotes:"rhythmfactor",elapsednotes2:"rhythmfactor",drift:"rhythmfactor",offbeatdo:"rhythm",onbeatdo:"rhythm",setmasterbpm2:"rhythm",setmasterbpm:"rhythm",setbpm2:"rhythm",setbpm:"rhythm",pickup:"rhythm",meter:"rhythm",staccatofactor:"tonefactor",slurfactor:"tonefactor",amsynth:"ignore",fmsynth:"ignore",duosynth:"ignore",partial:"tone",harmonic2:"tone",neighbor2:"tone",dis:"tone",tremolo:"tone",phaser:"tone",chorus:"tone",vibrato:"tone"},"setvoice","tone"),_defineProperty(_TACAT,"glide","tone"),_defineProperty(_TACAT,"slur","tone"),_defineProperty(_TACAT,"staccato","tone"),_defineProperty(_TACAT,"newslur","tone"),_defineProperty(_TACAT,"newstaccato","tone"),_defineProperty(_TACAT,"synthname","tone"),_defineProperty(_TACAT,"voicename","tone"),_defineProperty(_TACAT,"settimbre","tone"),_defineProperty(_TACAT,"settemperament","tone"),_defineProperty(_TACAT,"modename","ignore"),_defineProperty(_TACAT,"doubly","pitchchord"),_defineProperty(_TACAT,"intervalname","ignore"),_defineProperty(_TACAT,"intervalnumber","ignore"),_defineProperty(_TACAT,"currentinterval","ignore"),_defineProperty(_TACAT,"measureintervalsemitones","pitchfactor"),_defineProperty(_TACAT,"measureintervalscalar","pitchfactor"),_defineProperty(_TACAT,"arpeggio","pitchchord"),_defineProperty(_TACAT,"chordname","ignore"),_defineProperty(_TACAT,"chordinterval","pitchchord"),_defineProperty(_TACAT,"semitoneinterval","pitchchord"),_defineProperty(_TACAT,"interval","pitchchord"),_defineProperty(_TACAT,"ratiointerval","pitchchord"),_defineProperty(_TACAT,"definemode","pitchchord"),_defineProperty(_TACAT,"movable","pitchchord"),_defineProperty(_TACAT,"modelength","pitchfactor"),_defineProperty(_TACAT,"key","pitchchord"),_defineProperty(_TACAT,"setkey2","pitchchord"),_defineProperty(_TACAT,"drumname","ignore"),_defineProperty(_TACAT,"effectsname","ignore"),_defineProperty(_TACAT,"setdrum","tone"),_defineProperty(_TACAT,"playdrum","tone"),_defineProperty(_TACAT,"heading","coord"),_defineProperty(_TACAT,"y","coord"),_defineProperty(_TACAT,"x","coord"),_defineProperty(_TACAT,"clear","forward"),_defineProperty(_TACAT,"controlpoint2","ignore"),_defineProperty(_TACAT,"controlpoint1","ignore"),_defineProperty(_TACAT,"bezier","arc"),_defineProperty(_TACAT,"arc","arc"),_defineProperty(_TACAT,"setheading","setxy"),_defineProperty(_TACAT,"setxy","setxy"),_defineProperty(_TACAT,"right","forward"),_defineProperty(_TACAT,"left","forward"),_defineProperty(_TACAT,"back","forward"),_defineProperty(_TACAT,"forward","forward"),_defineProperty(_TACAT,"beginfill","fill"),_defineProperty(_TACAT,"endfill","fill"),_defineProperty(_TACAT,"fillscreen","fill"),_defineProperty(_TACAT,"grey","pen"),_defineProperty(_TACAT,"shade","pen"),_defineProperty(_TACAT,"color","pen"),_defineProperty(_TACAT,"pensize","pen"),_defineProperty(_TACAT,"setfont","pen"),_defineProperty(_TACAT,"background","fill"),_defineProperty(_TACAT,"hollowline","fill"),_defineProperty(_TACAT,"fill","fill"),_defineProperty(_TACAT,"penup","pen"),_defineProperty(_TACAT,"pendown","pen"),_defineProperty(_TACAT,"setpensize","pen"),_defineProperty(_TACAT,"settranslucency","pen"),_defineProperty(_TACAT,"sethue","pen"),_defineProperty(_TACAT,"setshade","pen"),_defineProperty(_TACAT,"setgrey","pen"),_defineProperty(_TACAT,"setcolor","pen"),_defineProperty(_TACAT,"int","boolean"),_defineProperty(_TACAT,"not","boolean"),_defineProperty(_TACAT,"and","boolean"),_defineProperty(_TACAT,"or","boolean"),_defineProperty(_TACAT,"greater","boolean"),_defineProperty(_TACAT,"less","boolean"),_defineProperty(_TACAT,"equal","boolean"),_defineProperty(_TACAT,"boolean","boolean"),_defineProperty(_TACAT,"eval","ignore"),_defineProperty(_TACAT,"mod","number"),_defineProperty(_TACAT,"power","number"),_defineProperty(_TACAT,"sqrt","number"),_defineProperty(_TACAT,"abs","number"),_defineProperty(_TACAT,"divide","number"),_defineProperty(_TACAT,"multiply","number"),_defineProperty(_TACAT,"neg","number"),_defineProperty(_TACAT,"minus","number"),_defineProperty(_TACAT,"plus","number"),_defineProperty(_TACAT,"oneOf","random"),_defineProperty(_TACAT,"random","random"),_defineProperty(_TACAT,"number","ignore"),_defineProperty(_TACAT,"incrementOne","box"),_defineProperty(_TACAT,"increment","box"),_defineProperty(_TACAT,"box","ignore"),_defineProperty(_TACAT,"namedbox","ignore"),_defineProperty(_TACAT,"storein2","box"),_defineProperty(_TACAT,"storein","box"),_defineProperty(_TACAT,"do","action"),_defineProperty(_TACAT,"return","action"),_defineProperty(_TACAT,"returnToUrl","action"),_defineProperty(_TACAT,"calc","action"),_defineProperty(_TACAT,"namedcalc","action"),_defineProperty(_TACAT,"nameddoArg","action"),_defineProperty(_TACAT,"namedcalcArg","action"),_defineProperty(_TACAT,"doArg","action"),_defineProperty(_TACAT,"calcArg","action"),_defineProperty(_TACAT,"arg","action"),_defineProperty(_TACAT,"namedarg","action"),_defineProperty(_TACAT,"listen","action"),_defineProperty(_TACAT,"dispatch","action"),_defineProperty(_TACAT,"start","ignore"),_defineProperty(_TACAT,"action","action"),_defineProperty(_TACAT,"nameddo","action"),_defineProperty(_TACAT,"loaHeapFromApp","box"),_defineProperty(_TACAT,"saveHeapToApp","box"),_defineProperty(_TACAT,"showHeap","box"),_defineProperty(_TACAT,"heapLength","box"),_defineProperty(_TACAT,"heapEmpty","box"),_defineProperty(_TACAT,"emptyHeap","box"),_defineProperty(_TACAT,"saveHeap","programming"),_defineProperty(_TACAT,"loadHeap","programming"),_defineProperty(_TACAT,"indexHeap","box"),_defineProperty(_TACAT,"setHeapEntry","box"),_defineProperty(_TACAT,"pop","box"),_defineProperty(_TACAT,"push","box"),_defineProperty(_TACAT,"getDict","box"),_defineProperty(_TACAT,"setDict","box"),_defineProperty(_TACAT,"leftpos","ignore"),_defineProperty(_TACAT,"rightpos","ignore"),_defineProperty(_TACAT,"toppos","ignore"),_defineProperty(_TACAT,"bottompos","ignore"),_defineProperty(_TACAT,"width","ignore"),_defineProperty(_TACAT,"height","ignore"),_defineProperty(_TACAT,"stopplayback","ignore"),_defineProperty(_TACAT,"playback","ignore"),_defineProperty(_TACAT,"speak","media"),_defineProperty(_TACAT,"camera","ignore"),_defineProperty(_TACAT,"video","ignore"),_defineProperty(_TACAT,"loadFile","ignore"),_defineProperty(_TACAT,"stopvideocam","ignore"),_defineProperty(_TACAT,"tone","media"),_defineProperty(_TACAT,"tofrequency","media"),_defineProperty(_TACAT,"turtleshell","media"),_defineProperty(_TACAT,"show","media"),_defineProperty(_TACAT,"media","ignore"),_defineProperty(_TACAT,"text","ignore"),_defineProperty(_TACAT,"hiddennoflow","ignore"),_defineProperty(_TACAT,"hidden","ignore"),_defineProperty(_TACAT,"defaultcase","ignore"),_defineProperty(_TACAT,"case","ignore"),_defineProperty(_TACAT,"switch","iften"),_defineProperty(_TACAT,"clamp","ignore"),_defineProperty(_TACAT,"break","ignore"),_defineProperty(_TACAT,"waitFor","ifthen"),_defineProperty(_TACAT,"until","ifthen"),_defineProperty(_TACAT,"while","ifthen"),_defineProperty(_TACAT,"ifthenelse","ifthen"),_defineProperty(_TACAT,"if","ifthen"),_defineProperty(_TACAT,"forever","repeat"),_defineProperty(_TACAT,"repeat","repeat"),_defineProperty(_TACAT,"nopValueBlock","ignore"),_defineProperty(_TACAT,"nopOneArgMathBlock","ignore"),_defineProperty(_TACAT,"nopTwoArgMathBlock","ignore"),_defineProperty(_TACAT,"nopZeroArgBlock","ignore"),_defineProperty(_TACAT,"nopOneArgBlock","ignore"),_defineProperty(_TACAT,"nopTwoArgBlock","ignore"),_defineProperty(_TACAT,"nopThreeArgBlock","ignore"),_defineProperty(_TACAT,"openpalette","programming"),_defineProperty(_TACAT,"deleteblock","programming"),_defineProperty(_TACAT,"moveblock","programming"),_defineProperty(_TACAT,"runblock","programming"),_defineProperty(_TACAT,"dockblock","programming"),_defineProperty(_TACAT,"makeblock","programming"),_defineProperty(_TACAT,"saveabc","ignore"),_defineProperty(_TACAT,"savelilypond","ignore"),_defineProperty(_TACAT,"savesvg","ignore"),_defineProperty(_TACAT,"nobackground","ignore"),_defineProperty(_TACAT,"showblocks","ignore"),_defineProperty(_TACAT,"hideblocks","ignore"),_defineProperty(_TACAT,"openProject","ignore"),_defineProperty(_TACAT,"vspace","ignore"),_defineProperty(_TACAT,"hspace","ignore"),_defineProperty(_TACAT,"wait","ignore"),_defineProperty(_TACAT,"comment","ignore"),_defineProperty(_TACAT,"print","ignore"),_defineProperty(_TACAT,"pitchness","sensor"),_defineProperty(_TACAT,"loudness","sensor"),_defineProperty(_TACAT,"myclick","sensor"),_defineProperty(_TACAT,"getblue","sensor"),_defineProperty(_TACAT,"getgreen","sensor"),_defineProperty(_TACAT,"getred","sensor"),_defineProperty(_TACAT,"getcolorpixel","sensor"),_defineProperty(_TACAT,"time","sensor"),_defineProperty(_TACAT,"mousey","sensor"),_defineProperty(_TACAT,"mousex","sensor"),_defineProperty(_TACAT,"mousebutton","sensor"),_defineProperty(_TACAT,"toascii","sensor"),_defineProperty(_TACAT,"keyboard","sensor"),_defineProperty(_TACAT,"stopTurtle","mice"),_defineProperty(_TACAT,"startTurtle","mice"),_defineProperty(_TACAT,"turtlecolor","mice"),_defineProperty(_TACAT,"turtleheading","mice"),_defineProperty(_TACAT,"setxyturtle","mice"),_defineProperty(_TACAT,"yturtle","mice"),_defineProperty(_TACAT,"xturtle","mice"),_defineProperty(_TACAT,"turtleelapsednotes","mice"),_defineProperty(_TACAT,"turtlepitch","mice"),_defineProperty(_TACAT,"turtlenote","mice"),_defineProperty(_TACAT,"turtlenote2","mice"),_defineProperty(_TACAT,"turtlesync","mice"),_defineProperty(_TACAT,"turtlename","ignore"),_defineProperty(_TACAT,"setturtlename","mice"),_defineProperty(_TACAT,"setturtlename2","mice"),_defineProperty(_TACAT,"notevolumefactor","tone"),_defineProperty(_TACAT,"setsynthvolume2","tone"),_defineProperty(_TACAT,"setsynthvolume","tone"),_defineProperty(_TACAT,"setnotevolume","tone"),_defineProperty(_TACAT,"setnotevolume2","tone"),_defineProperty(_TACAT,"articulation","tone"),_defineProperty(_TACAT,"crescendo","tone"),_TACAT),TAPAL={beat:"notesp",note:"notesp",rhythm:"notesp",rhythmfactor:"notesp",pitch:"pitchp",pitchchord:"pitchp",transpose:"pitchp",pitchfactor:"pitchp",tone:"tonep",forward:"turtlep",arc:"turtlep",coord:"turtlep",setxy:"turtlep",pen:"penp",fill:"penp",random:"numberp",boolean:"numberp",repeat:"flowp",ifthen:"flowp",action:"boxp",box:"boxp",sensor:"sensorp",media:"mediap",mice:"micep",number:"numberp",programming:"numberp",ignore:"numberp"},TASCORE=(_defineProperty(_TASCORE={note:1,rhythmfactor:1,beat:10,rhythm:5},"rhythmfactor",5),_defineProperty(_TASCORE,"pitchchord",3),_defineProperty(_TASCORE,"pitch",1),_defineProperty(_TASCORE,"transpose",5),_defineProperty(_TASCORE,"pitchfactor",5),_defineProperty(_TASCORE,"tone",5),_defineProperty(_TASCORE,"forward",3),_defineProperty(_TASCORE,"arc",3),_defineProperty(_TASCORE,"setxy",2.5),_defineProperty(_TASCORE,"coord",4),_defineProperty(_TASCORE,"turtlep",5),_defineProperty(_TASCORE,"pen",2.5),_defineProperty(_TASCORE,"fill",2.5),_defineProperty(_TASCORE,"penp",5),_defineProperty(_TASCORE,"number",.5),_defineProperty(_TASCORE,"boolean",2.5),_defineProperty(_TASCORE,"random",2.5),_defineProperty(_TASCORE,"repeat",2.5),_defineProperty(_TASCORE,"ifthen",5),_defineProperty(_TASCORE,"flowp",2.5),_defineProperty(_TASCORE,"box",2.5),_defineProperty(_TASCORE,"action",2.5),_defineProperty(_TASCORE,"boxp",0),_defineProperty(_TASCORE,"media",5),_defineProperty(_TASCORE,"mediap",0),_defineProperty(_TASCORE,"programming",5),_defineProperty(_TASCORE,"mice",7.5),_defineProperty(_TASCORE,"micep",2.5),_defineProperty(_TASCORE,"ignore",0),_defineProperty(_TASCORE,"sensor",5),_defineProperty(_TASCORE,"sensorp",0),_TASCORE),PALS=["notesp","pitchp","tonep","turtlep","penp","numberp","flowp","boxp","sensorp","mediap","micep"],PALLABELS=[_("rhythm"),_("pitch"),_("tone"),_("mouse"),_("pen"),_("number"),_("flow"),_("action"),_("Sensors").toLowerCase(),_("Media").toLowerCase(),_("mice")],analyzeProject=function(e){for(var r=[],t=0;t<e.blocks.blockList.length;t++)if(!e.blocks.blockList[t].trash){switch(e.blocks.blockList[t].name){case"rhythmicdot":case"tie":case"drift":case"osctime":case"sharp":case"flat":case"fill":case"hollowline":case"start":if(null==e.blocks.blockList[t].connections[1])continue;break;case"note":case"multiplybeatfactor":case"duplicatenotes":case"skipnotes":case"setbpm":case"settransposition":case"staccato":case"slur":case"swing":case"crescendo":case"setnotevolume2":case"vibrato":case"tremolo":case"dis":case"chorus":case"phaser":case"action":if(null==e.blocks.blockList[t].connections[2])continue;break;case"tuplet2":if(null==e.blocks.blockList[t].connections[3])continue;break;case"invert":if(null==e.blocks.blockList[t].connections[4])continue;break;default:if(null==e.blocks.blockList[t].connections[0]&&null==last(e.blocks.blockList[t].connections))continue}r.push(e.blocks.blockList[t].name)}for(var o=[],n=0;n<PALS.length;n++)o.push(0);for(var i=[],p=[],a=0;a<r.length;a++)r[a]in TACAT?TACAT[r[a]]in i||i.push(TACAT[r[a]]):console.debug(r[a]+" not in catalog");for(var A=0;A<i.length;A++)i[A]in TAPAL&&(TAPAL[i[A]]in p||p.push(TAPAL[i[A]]));for(var _=0;_<i.length;_++)i[_]in TASCORE&&(o[PALS.indexOf(TAPAL[i[_]])]+=TASCORE[i[_]]);for(var T=0;T<p.length;T++)p[T]in TASCORE&&(o[PALS.indexOf(p[T])]+=TASCORE[p[T]]);return o},scoreToChartData=function(e){for(var r=[],t=0,o=0;o<e.length;o++)e[o]>t&&(t=e[o]);var n=0<t?100/t:1;1<n&&(n=1);for(var i=0;i<e.length;i++)r.push(e[i]*n);return{labels:PALLABELS,datasets:[{label:"",fillColor:"rgba(220,220,220,0.4)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,1)",data:r}]}},getChartOptions=function(e){return{onAnimationComplete:e,scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.2)",angleLineWidth:10,pointLabelFontFamily:"Arial",pointLabelFontStyle:"normal",pointLabelFontSize:30,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:18,pointDotStrokeWidth:6,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:12,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'}},runAnalytics=function(e){var r=e.logo,t=e.turtles;r.runningLilypond=!0,r.notationNotes={};for(var o=0;o<t.getTurtleCount();o++)r.notation.notationStaging[o]=[],r.notation.notationDrumStaging[o]=[],t.getTurtle(o).painter.doClear(!0,!0,!0);document.body.style.cursor="wait",r.collectingStats=!0,r.runLogoCommands()},getStatsFromNotation=function(o){var n={},e=o.logo.notation;n.duples=0,n.triplets=0,n.quintuplets=0,n.pitchNames=new Set,n.articulation={begin:[],end:[]},n.pitches=[];var i=n.numberOfNotes=0;for(var r in e.notationStaging)for(var t in e.notationStaging[r]){var p=e.notationStaging[r][t];if("object"==_typeof(p)&&p[0].length){var a,A=_createForOfIteratorHelper(p[0]);try{for(A.s();!(a=A.n()).done;)!function(){var e,r=a.value,t=void 0;isCustomTemperament(o.logo.synth.inTemperament)?(t=o.logo.synth.getCustomFrequency(r,o.logo.synth.inTemperament),0<(e=getTemperament(o.logo.synth.inTemperament).filter(function(e){return e[3]===r.slice(0,r.length-1)})).length&&(r=e[0][1]+r[r.length-1])):t=o.logo.synth._getFrequency(r),""===r.slice(0,r.length-1)?n.pitchNames.add("R"):n.pitchNames.add(r.slice(0,r.length-1)),n.pitches.push(t),null==n.lowestNote?isNaN(t)||(n.lowestNote=[r,i,t]):t<n.lowestNote[2]&&(n.lowestNote=[r,i,t]),null==n.highestNote?isNaN(t)||(n.highestNote=[r,i,t]):t>n.highestNote[2]&&(n.highestNote=[r,i,t]),n.numberOfNotes++,i++}()}catch(e){A.e(e)}finally{A.f()}}2==p[1]?n.duples++:3==p[1]?n.triplets++:5==p[1]&&n.quintuplets++,"string"!=typeof p||"begin articulation"!=p&&"end articulation"!=p||n.articulation.begin.push(t)}var _=o.blocks.blockList;n.rests=0,n.ornaments=0;var T,f=_createForOfIteratorHelper(_);try{for(f.s();!(T=f.n()).done;){var d=T.value;if(!d.trash){switch(d.name){case"rest2":n.rests++}switch(d.protoblock.palette.name){case"ornaments":n.ornaments++}}}}catch(e){f.e(e)}finally{f.f()}return n};"undefined"!=typeof module&&module.exports&&(module.exports={TACAT:TACAT,TAPAL:TAPAL,TASCORE:TASCORE,PALS:PALS,PALLABELS:PALLABELS,analyzeProject:analyzeProject,scoreToChartData:scoreToChartData,getChartOptions:getChartOptions,runAnalytics:runAnalytics,getStatsFromNotation:getStatsFromNotation});