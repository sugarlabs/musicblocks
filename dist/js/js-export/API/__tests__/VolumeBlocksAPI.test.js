"use strict";function asyncGeneratorStep(e,t,n,r,a,o,c){try{var s=e[o](c),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function _asyncToGenerator(s){return function(){var e=this,c=arguments;return new Promise(function(t,n){var r=s.apply(e,c);function a(e){asyncGeneratorStep(r,t,n,a,o,"next",e)}function o(e){asyncGeneratorStep(r,t,n,a,o,"throw",e)}a(void 0)})}}var JSInterface={validateArgs:jest.fn()};global.JSInterface=JSInterface;var Singer={VolumeActions:{getSynthVolume:jest.fn()}};global.Singer=Singer;var VolumeBlocksAPI=require("../VolumeBlocksAPI");describe("VolumeBlocksAPI",function(){var r;beforeEach(function(){(r=new VolumeBlocksAPI).turIndex=0,r.runCommand=jest.fn().mockResolvedValue("Command executed"),r.ENDFLOWCOMMAND="endFlow"}),afterEach(function(){jest.clearAllMocks()}),test("doCrescendo calls runCommand with correct arguments",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=jest.fn(),JSInterface.validateArgs.mockReturnValue([50,t]),e.next=4,r.doCrescendo(50,t);case 4:n=e.sent,expect(JSInterface.validateArgs).toHaveBeenCalledWith("doCrescendo",[50,t]),expect(r.runCommand).toHaveBeenCalledWith("doCrescendo",["crescendo",50,0]),expect(t).toHaveBeenCalled(),expect(n).toBe("endFlow");case 9:case"end":return e.stop()}},e)}))),test("doDecrescendo calls runCommand with correct arguments",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=jest.fn(),JSInterface.validateArgs.mockReturnValue([30,t]),e.next=4,r.doDecrescendo(30,t);case 4:n=e.sent,expect(JSInterface.validateArgs).toHaveBeenCalledWith("doDecrescendo",[30,t]),expect(r.runCommand).toHaveBeenCalledWith("doCrescendo",["decrescendo",30,0]),expect(t).toHaveBeenCalled(),expect(n).toBe("endFlow");case 9:case"end":return e.stop()}},e)}))),test("setRelativeVolume calls runCommand with correct arguments",_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=jest.fn(),JSInterface.validateArgs.mockReturnValue([75,t]),e.next=4,r.setRelativeVolume(75,t);case 4:n=e.sent,expect(JSInterface.validateArgs).toHaveBeenCalledWith("setRelativeVolume",[75,t]),expect(r.runCommand).toHaveBeenCalledWith("setRelativeVolume",[75,0]),expect(t).toHaveBeenCalled(),expect(n).toBe("endFlow");case 9:case"end":return e.stop()}},e)}))),test("setSynthVolume calls runCommand with correct arguments",function(){JSInterface.validateArgs.mockReturnValue(["synth1",100]);var e=r.setSynthVolume("synth1",100);expect(JSInterface.validateArgs).toHaveBeenCalledWith("setSynthVolume",["synth1",100]),expect(r.runCommand).toHaveBeenCalledWith("setSynthVolume",["synth1",100,0]),expect(e).resolves.toBe("Command executed")}),test("getSynthVolume calls Singer.VolumeActions.getSynthVolume with correct arguments",function(){JSInterface.validateArgs.mockReturnValue(["synth1"]),Singer.VolumeActions.getSynthVolume.mockReturnValue(80);var e=r.getSynthVolume("synth1");expect(JSInterface.validateArgs).toHaveBeenCalledWith("getSynthVolume",["synth1"]),expect(Singer.VolumeActions.getSynthVolume).toHaveBeenCalledWith("synth1",0),expect(e).toBe(80)})});