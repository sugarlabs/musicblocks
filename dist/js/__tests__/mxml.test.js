"use strict";var saveMxmlOutput=require("../mxml");describe("saveMxmlOutput",function(){it("should return a valid XML string for a basic input",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:[[["C"],4,0]],1:[]}}});expect(t).toContain("<?xml version='1.0' encoding='UTF-8'?>"),expect(t).toContain('<score-partwise version="3.1">'),expect(t).toContain("<part-list>"),expect(t).toContain('<score-part id="P1">'),expect(t).toContain('<part id="P1">')}),it("should handle multiple voices",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:[[["C"],4,0],[["D"],4,0]],1:[[["E"],4,0],[["F"],4,0]]}}});expect(t).toContain('<score-part id="P1">'),expect(t).toContain('<score-part id="P2">'),expect(t).toContain('<part id="P1">'),expect(t).toContain('<part id="P2">'),expect(t).toContain("<step>C</step>"),expect(t).toContain("<step>E</step>")}),it("should ignore specified elements",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:["voice one",[["C"],4,0],"voice two"]}}});expect(t).not.toContain("voice one"),expect(t).not.toContain("voice two"),expect(t).toContain("<step>C</step>")}),it("should handle tempo changes",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:["tempo",120,4,[["C"],4,0]]}}});expect(t).toContain('<sound tempo="120"/>'),expect(t).toContain("<step>C</step>")}),it("should handle meter changes",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:["meter",3,4,[["C"],4,0]]}}});expect(t).toContain("<time>"),expect(t).toContain("<beat-type>4</beat-type>"),expect(t).toContain("<step>C</step>")}),it("should handle crescendo and decrescendo markings",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:["begin crescendo",[["C"],4,0],"end crescendo","begin decrescendo",[["D"],4,0],"end decrescendo"]}}});expect(t).toContain('<wedge type="crescendo"/>'),expect(t).toContain('<wedge type="diminuendo"/>'),expect(t).toContain('<wedge type="stop"/>'),expect(t).toContain("<step>C</step>"),expect(t).toContain("<step>D</step>")}),it("should handle tied notes",function(){var t=saveMxmlOutput({notation:{notationStaging:{0:[[["C"],4,0],"tie",[["C"],4,0]]}}});expect(t).toContain('<tie type="start"/>'),expect(t).toContain('<tie type="stop"/>')})});