"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);var r=n.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var r=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,r?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"==_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function setupRhythmBlocks(s){var e=function(){_inherits(n,ValueBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"mynotevalue",_("note value"))).setPalette("rhythm",s),e.parameter=!0,e.beginnerBlock(!0),e.setHelpString([_("The Note value block is the value of the duration of the note currently being played."),"documentation",null,"everybeathelp"]),e}return _createClass(n,[{key:"updateParameter",value:function(e,t,n){return mixedNumber(s.blocks.blockList[n].value)}},{key:"arg",value:function(e,t,n){if(!e.inStatusMatrix||"print"!==s.blocks.blockList[s.blocks.blockList[n].connections[0]].name)return Singer.RhythmActions.getNoteValue(s.turtles.companionTurtle(t));e.statusFields.push([n,"mynotevalue"])}}]),n}(),t=function(){_inherits(n,ValueBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"skipfactor","skip factor")).setPalette("rhythm",s),e.setHelpString(),e.parameter=!0,e.hidden=!0,e}return _createClass(n,[{key:"updateParameter",value:function(e,t,n){return s.blocks.blockList[n].value}},{key:"arg",value:function(e,t,n){if(!e.inStatusMatrix||"print"!==s.blocks.blockList[s.blocks.blockList[n].connections[0]].name)return s.turtles.ithTurtle(t).singer.skipFactor;e.statusFields.push([n,"skip"])}}]),n}(),n=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"osctime")).setPalette("rhythm",s),e.setHelpString([_("The Milliseconds block is similar to a Note block except that it uses time (in MS) to specify the note duration."),"documentation",null,"osctimehelp"]),e.formBlock({name:_("milliseconds"),args:1,defaults:[200],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"osctime",e,t,[null,2,1,7]],[1,"vspace",0,0,[0,5]],[2,"divide",0,0,[0,3,4]],[3,["number",{value:1e3}],0,0,[2]],[4,"divide",0,0,[2,8,9]],[5,"hertz",0,0,[1,6,null]],[6,["number",{value:392}],0,0,[5]],[7,"hidden",0,0,[0,null]],[8,["number",{value:3}],0,0,[4]],[9,["number",{value:2}],0,0,[4]]]}),e}return _createClass(n,[{key:"flow",value:function(n,e,r,l,u){if(void 0!==n[1]){null===n[0]||"number"!=typeof n[0]?s.errorMsg(NOINPUTERRORMSG,l):n[0]<=0&&s.errorMsg(_("Note value must be greater than 0."),l);var t=null===n[0]||"number"!=typeof n[0]?.25:Math.abs(n[0]);return Singer.RhythmActions.playNote(t,"osctime",r,l,function(){var e=s.turtles.ithTurtle(r),t=new Queue(n[1],1,l,u);e.parentFlowQueue.push(l),e.queue.push(t)}),[n[1],1]}}}]),n}(),r=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"swing")).setPalette("rhythm",s),e.setHelpString(),e.formBlock({name:_("swing"),args:1,defaults:[32]}),e.makeMacro(function(e,t){return[[0,"swing",e,t,[null,1,null,2]],[1,["number",{value:32}],0,0,[0]],[2,"hidden",0,0,[0,null]]]}),e.hidden=e.deprecated=!0,e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){var l=s.turtles.ithTurtle(n);l.singer.swing.push(e[0]),l.singer.swingTarget.push(null),l.singer.swingCarryOver=0;var u="_swing_"+n;t.setDispatchBlock(r,n,u);return t.setTurtleListener(n,u,function(){l.singer.suppressOutput||(l.singer.swingTarget.pop(),l.singer.swing.pop()),l.singer.swingCarryOver=0}),[e[1],1]}}]),n}(),l=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"newswing")).setPalette("rhythm",s),e.setHelpString(),e.formBlock({name:_("swing"),args:1,defaults:[1/24]}),e.makeMacro(function(e,t){return[[0,"newswing",e,t,[null,1,4,5]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:16}],0,0,[1]],[4,"vspace",0,0,[0,null]],[5,"hidden",0,0,[0,null]]]}),e.hidden=e.deprecated=!0,e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){var l=s.turtles.ithTurtle(n);l.singer.swing.push(1/e[0]),l.singer.swingTarget.push(null),l.singer.swingCarryOver=0;var u="_swing_"+n;t.setDispatchBlock(r,n,u);return t.setTurtleListener(n,u,function(){l.singer.suppressOutput||(l.singer.swingTarget.pop(),l.singer.swing.pop()),l.singer.swingCarryOver=0}),[e[1],1]}}]),n}(),u=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"newswing2")).setPalette("rhythm",s),e.setHelpString([_("The Swing block works on pairs of notes (specified by note value), adding some duration (specified by swing value) to the first note and taking the same amount from the second note."),"documentation",null,"swinghelp"]),e.formBlock({name:_("swing"),args:2,defaults:[1/24,1/8],argLabels:[_("swing value"),_("note value")],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"newswing2",e,t,[null,1,6,9,10]],[1,"hspace",0,0,[0,2]],[2,"hspace",0,0,[1,3]],[3,"divide",0,0,[2,4,5]],[4,["number",{value:1}],0,0,[3]],[5,["number",{value:24}],0,0,[3]],[6,"divide",0,0,[0,7,8]],[7,["number",{value:1}],0,0,[6]],[8,["number",{value:8}],0,0,[6]],[9,"vspace",0,0,[0,null]],[10,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){if(void 0!==e[2]){(null===e[0]||"number"!=typeof e[0]||e[0]<=0||null===e[1]||"number"!=typeof e[1]||e[1]<=0)&&s.errorMsg(NOINPUTERRORMSG,r);var l=null===e[0]||"number"!=typeof e[0]||e[0]<=0?1/24:e[0],u=null===e[1]||"number"!=typeof e[1]||e[1]<=0?1/8:e[1];return Singer.RhythmActions.addSwing(l,u,n,r),[e[2],1]}}}]),n}(),a=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"skipnotes")).setPalette("rhythm",s),e.setHelpString([_("The Skip notes block will cause notes to be skipped."),"documentation",null,"skiphelp"]),e.formBlock({name:_("skip notes"),args:1,defaults:[2],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"skipnotes",e,t,[null,1,null,2]],[1,["number",{value:2}],0,0,[0]],[2,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){var l=s.turtles.ithTurtle(n),u=null===e[0]?0:e[0];l.singer.skipFactor+=u;var a="_skip_"+n;t.setDispatchBlock(r,n,a);return t.setTurtleListener(n,a,function(){l.singer.skipFactor-=u}),[e[1],1]}}]),n}(),o=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"multiplybeatfactor")).setPalette("rhythm",s),e.setHelpString([_("The Multiply note value block changes the duration of notes by changing their note values."),"documentation",null,"multiplybeathelp"]),e.formBlock({name:_("multiply note value"),args:1,defaults:[2],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"multiplybeatfactor",e,t,[null,1,4,5]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:2}],0,0,[1]],[4,"vspace",0,0,[0,null]],[5,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){if(void 0!==e[1]){var l=e[0];return(null===l||"number"!=typeof l||l<=0)&&(s.errorMsg(NOINPUTERRORMSG,r),l=2),Singer.RhythmActions.multiplyNoteValue(l,n,r),[e[1],1]}}}]),n}(),i=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"tie")).setPalette("rhythm",s),e.beginnerBlock(!0),e.setHelpString([_("The Tie block works on pairs of notes, combining them into one note."),"documentation",null,"tiehelp"]),e.formBlock({name:_("tie"),canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"tie",e,t,[null,null,1]],[1,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){if(void 0!==e[0])return Singer.RhythmActions.doTie(n,r),[e[0],1]}}]),n}(),c=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"rhythmicdot")).setPalette("rhythm",s),e.setHelpString(),e.formBlock({name:_("dot"),canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"rhythmicdot",e,t,[null,null,1]],[1,"hidden",0,0,[0,null]]]}),e.hidden=e.deprecated=!0,e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){null===e[0]&&s.errorMsg(NOINPUTERRORMSG,r);var l=1,u=s.turtles.ithTurtle(n),a=2-1/Math.pow(2,u.singer.dotCount);u.singer.beatFactor*=a,0<=l?u.singer.dotCount+=l:-1===l?(s.errorMsg(_("An argument of -1 results in a note value of 0."),r),l=0):u.singer.dotCount+=1/l;var o=2-1/Math.pow(2,u.singer.dotCount);u.singer.beatFactor/=o;var i="_dot_"+n;t.setDispatchBlock(r,n,i);return t.setTurtleListener(n,i,function(){var e=2-1/Math.pow(2,u.singer.dotCount);u.singer.beatFactor*=e,u.singer.dotCount-=0<=l?l:1/l;var t=2-1/Math.pow(2,u.singer.dotCount);u.singer.beatFactor/=t}),[e[0],1]}}]),n}(),h=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"rhythmicdot2")).setPalette("rhythm",s),e.piemenuValuesC1=[1,2,3],e.setHelpString([_("The Dot block extends the duration of a note by 50%.")+" "+_("Eg a dotted quarter note will play for 3/8 (1/4 + 1/8) of a beat."),"documentation",null,"dothelp"]),e.formBlock({name:_("dot"),args:1,defaults:[1],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"rhythmicdot2",e,t,[null,1,null,2]],[1,["number",{value:1}],0,0,[0]],[2,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n,r){null===e[0]&&s.errorMsg(NOINPUTERRORMSG,r);var l=null===e[0]?0:e[0];return Singer.RhythmActions.doRhythmicDot(l,n,r),[e[1],1]}}]),n}(),p=function(){_inherits(n,FlowBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"rest2",_("silence"))).setPalette("rhythm",s),e.beginnerBlock(!0),e.setHelpString([_("A rest of the specified note value duration can be constructed using a Silence block."),"documentation",null,"rest2"]),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,6]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"rest2",0,0,[4,null]],[6,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(e,t,n){Singer.RhythmActions.playRest(n)}}]),n}(),f=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note4")).setPalette("rhythm",s),e.beginnerBlock(!0),e.formBlock({name:"ja"===e.lang?_("note value drum"):_("note value")+" "+_("drum"),args:1,canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,7]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"playdrum",0,0,[4,6,null]],[6,["drumname",{value:DEFAULTDRUM}],0,0,[5]],[7,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),v=function(){_inherits(l,FlowClampBlock);var r=_createSuper(l);function l(e,t){var n;return _classCallCheck(this,l),(n=r.call(this,e)).setPalette("rhythm",s),n.setHelpString(),n.formBlock({name:_("note value")+" "+t,args:1,canCollapse:!0}),n}return _createClass(l,[{key:"flow",value:function(){}}]),l}(),m=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note3",_("392 hertz"))).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,7]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"hertz",0,0,[4,6,null]],[6,["number",{value:392}],0,0,[5]],[7,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),d=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note5","7")).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,7]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"pitchnumber",0,0,[4,6,null]],[6,["number",{value:7}],0,0,[5]],[7,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),g=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note7","4 4")).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,8]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"nthmodalpitch",0,0,[4,6,7,null]],[6,["number",{value:4}],0,0,[5]],[7,["number",{value:4}],0,0,[5]],[8,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),k=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note8",_("scale degree"))).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,8]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"pitch",0,0,[4,6,7,null]],[6,["scaledegree2",{value:"5"}],0,0,[5]],[7,["number",{value:4}],0,0,[5]],[8,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),y=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note6","+1")).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,7]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"steppitch",0,0,[4,6,null]],[6,["number",{value:1}],0,0,[5]],[7,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),b=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note2","G4")).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,8]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"pitch",0,0,[4,6,7,null]],[6,["notename",{value:"G"}],0,0,[5]],[7,["number",{value:4}],0,0,[5]],[8,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),w=function(){_inherits(n,v);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note1",i18nSolfege("sol")+"4")).setHelpString(),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,8]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"pitch",0,0,[4,6,7,null]],[6,["solfege",{value:"sol"}],0,0,[5]],[7,["number",{value:4}],0,0,[5]],[8,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(){}}]),n}(),C=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"note")).setPalette("rhythm",s),e.setHelpString(),e.formBlock({name:"deprecated note value",args:1,defaults:[4],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,2,5]],[1,["number",{value:8}],0,0,[0]],[2,"pitch",0,0,[0,3,4,null]],[3,["solfege",{value:"sol"}],0,0,[2]],[4,["number",{value:4}],0,0,[2]],[5,"hidden",0,0,[0,null]]]}),e.hidden=e.deprecated=!0,e}return _createClass(n,[{key:"flow",value:function(n,e,r,l,u){if(void 0!==n[1]){null===n[0]||"number"!=typeof n[0]?s.errorMsg(NOINPUTERRORMSG,l):n[0]<=0&&s.errorMsg(_("Note value must be greater than 0."),l);var t=null===n[0]||"number"!=typeof n[0]?.25:Math.abs(n[0]);return Singer.RhythmActions.playNote(t,"note",r,l,function(){var e=s.turtles.ithTurtle(r),t=new Queue(n[1],1,l,u);e.parentFlowQueue.push(l),e.queue.push(t)}),[n[1],1]}}}]),n}(),S=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"newnote")).setPalette("rhythm",s),e.beginnerBlock(!0),e.setHelpString([_("The Note block is a container for one or more Pitch blocks.")+" "+_("The Note block specifies the duration (note value) of its contents."),"documentation",null,"note1"]),e.formBlock({name:_("note"),args:1,argLabels:["ja"===e.lang?_("value2"):_("value")],defaults:[.25],canCollapse:!0}),e.makeMacro(function(e,t){return[[0,"newnote",e,t,[null,1,4,8]],[1,"divide",0,0,[0,2,3]],[2,["number",{value:1}],0,0,[1]],[3,["number",{value:4}],0,0,[1]],[4,"vspace",0,0,[0,5]],[5,"pitch",0,0,[4,6,7,null]],[6,["solfege",{value:"sol"}],0,0,[5]],[7,["number",{value:4}],0,0,[5]],[8,"hidden",0,0,[0,null]]]}),e}return _createClass(n,[{key:"flow",value:function(n,e,r,l,u){if(void 0!==n[1]){null===n[0]||"number"!=typeof n[0]?s.errorMsg(NOINPUTERRORMSG,l):n[0]<=0&&s.errorMsg(_("Note value must be greater than 0."),l);var t=null===n[0]||"number"!=typeof n[0]?.25:Math.abs(n[0]),a=s.turtles.ithTurtle(r);return 0<a.singer.inNoteBlock.length&&a.singer.delayedNotes.push([l,t]),Singer.RhythmActions.playNote(t,"newnote",r,l,function(){var e=s.turtles.ithTurtle(r),t=new Queue(n[1],1,l,u);e.parentFlowQueue.push(l),e.queue.push(t)}),[n[1],1]}}}]),n}(),P=function(){_inherits(n,FlowClampBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"definefrequency")).setPalette("rhythm",s),e.setHelpString(),e.formBlock({name:_("define frequency"),args:1}),e.hidden=!0,e}return n}(),M=function(){_inherits(n,FlowBlock);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this,"octavespace",_("octave space"))).setPalette("rhythm",s),e.setHelpString(),e.formBlock({args:1}),e.hidden=!0,e}return n}();(new e).setup(s),(new t).setup(s),(new n).setup(s),(new r).setup(s),(new l).setup(s),(new u).setup(s),(new a).setup(s),(new o).setup(s),(new i).setup(s),(new c).setup(s),(new h).setup(s),(new p).setup(s),(new f).setup(s),(new m).setup(s),(new d).setup(s),(new k).setup(s),(new g).setup(s),(new y).setup(s),(new b).setup(s),(new w).setup(s),(new C).setup(s),(new S).setup(s),(new P).setup(s),(new M).setup(s)}