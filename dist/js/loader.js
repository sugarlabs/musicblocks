"use strict";function asyncGeneratorStep(e,n,t,i,r,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(i,r)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(n,t){var i=s.apply(e,a);function r(e){asyncGeneratorStep(i,n,t,r,o,"next",e)}function o(e){asyncGeneratorStep(i,n,t,r,o,"throw",e)}r(void 0)})}}requirejs.config({baseUrl:"lib",shim:{easel:{exports:"createjs"}},paths:{utils:"../js/utils",widgets:"../js/widgets",activity:"../js",easel:"../lib/easeljs",twewn:"../lib/tweenjs",prefixfree:"../bower_components/prefixfree/prefixfree.min",samples:"../sounds/samples",planet:"../js/planet",tonejsMidi:"../node_modules/@tonejs/midi/dist/Midi",i18next:["../lib/i18next.min","https://cdn.jsdelivr.net/npm/i18next@23.11.5/dist/umd/i18next.min"],i18nextHttpBackend:["../lib/i18nextHttpBackend.min","https://cdn.jsdelivr.net/npm/i18next-http-backend@2.5.1/i18nextHttpBackend.min"]},packages:[]}),requirejs(["i18next","i18nextHttpBackend"],function(r,n){function t(){console.log("updateContent() called"),document.querySelectorAll("[data-i18n]").forEach(function(e){var n=e.getAttribute("data-i18n"),t=r.t(n);e.textContent=t})}function i(){return(i=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t,i){r.use(n).init({lng:"en",fallbackLng:"en",keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},backend:{loadPath:"locales/{{lng}}.json?v="+Date.now()}},function(e,n){e?(console.error("i18next init failed:",e),i(e)):(console.log("i18next initialized"),window.i18next=r,console.log("i18next Store:",r.store.data),t(r))}),r.on("initialized",function(){console.log("i18next initialized")}),r.on("loaded",function(e){console.log("i18next loaded:",e)})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(){return i.apply(this,arguments)}();case 3:"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t()}):(console.log("DOM already loaded, updating content immediately"),t()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Error initializing i18next:",e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}(function(){return e.apply(this,arguments)})().then(function(){requirejs(["utils/utils","activity/activity"])}),r.changeLanguage(lang,function(e,n){e?console.error("Error changing language:",e):t()}),r.on("languageChanged",function(){t()})});